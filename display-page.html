<html>
	<title>Javabot</title>
	
	<body></body>
	
	<script>
		const width = window.innerWidth, height = window.innerHeight;
		
		const canvas = document.createElement("canvas")
		canvas.setAttribute("position", "absolute")
		canvas.setAttribute("left", "0px")
		canvas.setAttribute("top", "0px")
		canvas.width = window.innerWidth;
		canvas.height = window.innerHeight;
		document.body.appendChild(canvas)
		
		let gameState = {}
		
		function clearBackground () {
			ctx.fillStyle = "white";
			ctx.fillRect(0, 0, width, height)
		}
		
		function drawRect (x, y, w, h) {
			ctx.fillStyle = "black"
			ctx.fillRect(x, y, w, h)
		}
		
		function updateView (response) {
			clearBackground()
			console.log(gameState)
		}
		
		const ctx = canvas.getContext("2d")
		
		const paused = false
		
		setInterval(function(){
			let req = new XMLHttpRequest()
			req.open("POST", "http://localhost:4445", true)
			req.setRequestHeader("Content-type", "application/x-www-form-urlencoded")
			req.onreadystatechange = function () {
				if (this.readyState == 4) {
					gameState = JSON.parse(this.responseText)
					updateView()
				}
			}
			req.send(`ROBOT DATA UPDATE\nPAUSED:${paused}\n`)
		}, 100);
	</script>
	
</html>